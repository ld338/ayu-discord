/* 
Changes border radius-es on things like avatars, server icons
*/

.theme-light,
.theme-dark {
    /* Ayu theme-specific vars */
    --ayu-positive: #a6cc70;
    --ayu-negative: #f27983;
    --ayu-default: #77a8d9;

    --ayu-hljs-title: #ffd57f;

    --ayu-status-online: var(--ayu-positive);
    --ayu-status-dnd: var(--ayu-negative);
    --ayu-status-idle: var(--ayu-hljs-title);
    --ayu-status-streaming: var(--ayu-presence-streaming);
    --ayu-status-offline: var(--background-primary);

    --ayu-border-radius: 7.5px;

    --ayu-folder-icon: url(https://i.imgur.com/xobmZ2W.png);
    /* Set this one to whatever, as long as it uses /assets/file-icon.png */

    --ayu-embed-right-radius: 15px;

    --ayu-icon-badge-radius: 4.5px;
}

.theme-dark button {
    border-radius: var(--ayu-border-radius) !important;
}

/* Embeds */
.theme-dark [class*="embed"][class*="markup"] {
    border-left-width: 5px;
    border-radius: var(--ayu-border-radius) var(--ayu-embed-right-radius)
        var(--ayu-embed-right-radius) var(--ayu-border-radius);
}

/* SECTION: All avatar stuff */

/* Settings */
.theme-dark [class^="avatar"],
.theme-dark [class^="partyAvatar"],
.theme-dark [role="img"][aria-label] foreignObject img,
.theme-dark [class*="avatarUploaderInner"],
.theme-dark [id*="chat-messages"] > div[class*="contents"] > img,
.theme-dark [class*="voiceAvatar"],
.theme-dark [class*="speaking"],
.theme-dark [role="dialog"] [class*="message"] [class*="avatar"] {
    border-radius: var(--ayu-border-radius) !important;
}

/* Member list avatars and typing dots */
.theme-dark [class*="callAvatarMask"] foreignObject,
.theme-dark [role="img"][aria-label] foreignObject,
.theme-dark foreignObject[mask*="url(#svg-mask-voice-user-summary-item)"] {
    -webkit-mask: none !important;
    mask: none !important;
}
.theme-dark [role="img"][aria-label] svg rect {
    display: none;
}

.theme-dark [class*="cursorDefault"],
.theme-dark [class*="dots"] {
    overflow: visible;
}

.theme-dark [class*="dots"] [cx="2.5"] {
    cy: -8;
    cx: -8.5;
    color: var(--background-tertiary);
}
.theme-dark [class*="dots"] [cx="8.75"] {
    cy: -8;
    cx: -2.25;
    color: var(--background-tertiary);
}
.theme-dark [class*="dots"] [cx="15"] {
    cy: -8;
    cx: 4;
    color: var(--background-tertiary);
}

.theme-dark [role="img"][aria-label]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: var(--ayu-border-radius);
    z-index: 20;
}

/* Statuses as shadows */
.theme-dark [role="img"][aria-label*="オンライン"]::before,
.theme-dark [role="img"][aria-label*="Online"]::before {
    box-shadow: inset 0 0 0 1.5px var(--ayu-status-online);
}
.theme-dark [role="img"][aria-label*="取り込み中"]::before,
.theme-dark [role="img"][aria-label*="Do Not Disturb"]::before {
    box-shadow: inset 0 0 0 1.5px var(--ayu-status-dnd);
}
.theme-dark [role="img"][aria-label*="退席中"]::before,
.theme-dark [role="img"][aria-label*="Idle"]::before {
    box-shadow: inset 0 0 0 1.5px var(--ayu-status-idle);
}
.theme-dark [role="img"][aria-label*="配信"]::before,
.theme-dark [role="img"][aria-label*="Streaming"]::before {
    box-shadow: inset 0 0 0 1.5px var(--ayu-status-streaming);
}

.theme-dark [role="img"][aria-label*="オフライン"]::before,
.theme-dark [role="img"][aria-label*="オンライン状態を隠す"]::before,
.theme-dark [role="img"][aria-label*="Offline"]::before,
.theme-dark [role="img"][aria-label*="Invisible"]::before {
    box-shadow: inset 0 0 0 1.5px var(--ayu-status-offline);
}

/* userPopout hover mask */
.theme-dark [class*="avatarHint"] foreignObject {
    -webkit-mask: none !important;
    mask: none !important;
    border-radius: var(--ayu-border-radius) !important;
}

/* END SECTION: Avatars */

/* SECTION: Server list */

.theme-dark [class*="wrapper"] [class*="svg"] foreignObject,
.theme-dark [data-ref-id*="guildsnav"] [class*="wrapper"] foreignObject,
.theme-dark [data-ref-id*="guildsnav"] [class*="blobContainer"] foreignObject {
    -webkit-mask: none !important;
    mask: none !important;
    border-radius: var(--ayu-border-radius) !important;
}

.theme-dark [class*="folderIconWrapper"] {
    border-radius: var(--ayu-border-radius) !important;
    background: var(--ayu-folder-icon);
    background-size: 24px;
    background-position: center;
    background-repeat: no-repeat;
    transition: none !important;
}

.theme-dark [class*="folderIconWrapper"]::before {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: inherit;
    content: " ";
}

.theme-dark [class*="numberBadge"],
.theme-dark [class*="iconBadge"] {
    border-radius: var(--ayu-icon-badge-radius) !important;
}

.theme-dark [data-ref-id*="guildsnav"] [class*="wrapper"] [class*="folder"] {
    border-radius: var(--ayu-border-radius) !important;
}

.theme-dark [class*="closedFolderIconWrapper"] {
    display: none;
}
.theme-dark [class*="expandedFolderIconWrapper"] {
    display: none !important;
}

.theme-dark [class*="expandedFolderBackground"] {
    border-radius: var(--ayu-border-radius) !important;
}

/* END SECTION: Server List */

.theme-dark
    [class*="bottomControls"]
    [class*="wrapper"]
    [class*="Button"]
    foreignObject {
    mask: none !important;
}

.theme-dark [class*="userInfo"] {
    overflow: unset;
    margin-left: 5px;
}
